var gameWrapperEl=document.querySelector("#gamewraper"),iframeEl=gameWrapperEl&&gameWrapperEl.querySelector("iframe"),embedEl=gameWrapperEl&&gameWrapperEl.querySelector("embed"),closeFullScreenBtn=document.querySelector("#close-full-screen"),enableFullScreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),e.requestFullscreen?document.addEventListener("fullscreenchange",function(){document.fullscreen||closeFullScreenBtn.click()},!1):e.mozRequestFullScreen?document.addEventListener("mozfullscreenchange",function(){document.mozFullScreen||closeFullScreenBtn.click()},!1):e.webkitRequestFullScreen?document.addEventListener("webkitfullscreenchange",function(){document.webkitIsFullScreen||closeFullScreenBtn.click()},!1):e.msRequestFullScreen&&document.addEventListener("msfullscreenchange",function(){document.msFullScreen||closeFullScreenBtn.click()},!1)},cancelFullscreen=function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},unityCheck=function(){"unity"!==document.vGAME.type&&"yes"!==document.vGAME.fullscreen||(document.querySelector(".fullscreen").style.display="none")},show=function(e){e.style.display="block"},hide=function(e){e.style.display="none"},checkIfFlashEnabled=function(){return!!navigator.userAgent.includes("VseigruBrowser")},showFlashError=function(){var e;"flash"===document.vGAME.type&&((e=document.querySelector(".close-btn"))&&e.addEventListener("click",function(){hide(document.querySelector(".vse-browser-promo-game"))},!1),(checkIfFlashEnabled()?hide:show)(document.querySelector(".vse-browser-promo-game")))};document.addEventListener("click",function(e){(e.target.closest(".fullscreen")||e.target.closest("#close-full-screen"))&&(e.target.closest(".fullscreen")&&(enableFullScreen(),iframeEl&&(iframeEl.style.cssText="width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(255,255,255,0.83);z-index:999",iframeEl.setAttribute("allowFullScreen","true")),embedEl&&(embedEl.style.cssText="width:100%;height:100%;position:fixed;top:0;left:0;background-color:rgba(255,255,255,0.83);z-index:999",embedEl.setAttribute("allowFullScreen","true")),document.querySelector("body").style.cssText="overflow:hidden",closeFullScreenBtn.style.cssText="position:fixed;top:0;right:0;left:auto;display:block",closeFullScreenBtn.classList.add("close_canvas")),e.target.closest("#close-full-screen")&&(closeFullScreenBtn.classList.contains("close_canvas")&&(iframeEl&&(iframeEl.style.cssText=""),embedEl&&(embedEl.style.cssText=""),closeFullScreenBtn.style.cssText="",closeFullScreenBtn.classList.remove("close_canvas"),document.querySelector("body").style.cssText=""),cancelFullscreen()),e.preventDefault())}),document.addEventListener("DOMContentLoaded",function(e){unityCheck(),showFlashError()}),document.addEventListener("keyup",function(e){27===e.keyCode&&(e.preventDefault(),closeFullScreenBtn.click())});