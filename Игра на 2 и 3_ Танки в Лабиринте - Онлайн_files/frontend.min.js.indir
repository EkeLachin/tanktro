function JVXVote(e,t,o,a,n,l,s,r){var i=window.location,c=i.protocol+"//"+i.host,d=document.getElementById("extravote_"+e+"_"+n),u=d.innerHTML;if(-1==d.parentNode.className.indexOf("voted")){d.innerHTML='<img src="'+c+'/plugins/content/extravote/assets/images/loading.gif" align="absmiddle" /> <small>Оцениваем</small>';var m=new XMLHttpRequest;m.onreadystatechange=function(){var s;4==m.readyState&&(setTimeout(function(){"thanks"==(s=m.responseText)&&(d.innerHTML="<small>Спасибо, оценка  принята!</small>"),"login"==s&&(d.innerHTML="<small>"+extravote_text[3]+"</small>"),"voted"==s&&(d.innerHTML="<small>Вы уже оценили эту игру.</small>")},500),setTimeout(function(){if("thanks"==s){u="";var r=a+1,i=((o+t)/r).toFixed(2);0!=l&&(u+="(Оценок игры %s)".replace("%s",r)),document.getElementById("rating_"+e+"_"+n).style.width=parseInt(20*i)+"%"}d.innerHTML=u},2e3))},m.open("GET",c+"/plugins/content/extravote/assets/ajax.php?task=vote&user_rating="+t+"&cid="+e+"&xid="+n,!0),m.send(null),d.parentNode.className=d.parentNode.className+" voted"}}var getCoords=function(e){var t=e.getBoundingClientRect(),o=document.body,a=document.documentElement,n=window.pageYOffset||a.scrollTop||o.scrollTop,l=window.pageXOffset||a.scrollLeft||o.scrollLeft,s=a.clientTop||o.clientTop||0,r=a.clientLeft||o.clientLeft||0,i=t.top+n-s,c=t.left+l-r;return{top:Math.round(i),left:Math.round(c)}},isVisible=function(e){var t=getCoords(e),o=window.pageYOffset||document.documentElement.scrollTop,a=o+document.documentElement.clientHeight;t.bottom=t.top+e.offsetHeight;var n=t.top>o&&t.top<a,l=t.bottom<a&&t.bottom>o;return n||l},showVisible=function(e,o){o||(e=document.getElementsByClassName("vp-dropdown")[0].getElementsByTagName("img"));for(t=0;t<e.length;t++){var a=e[t],n=a.dataset.src;a.className.indexOf("lazyload")&&n&&isVisible(a)&&(a.setAttribute("src",n),a.src=n,a.classList.remove("lazyload"),a.className=a.className.replace(/\blazyload\b/g,"").trim())}},show=function(e){e.style.display="block"},hide=function(e){e.style.display="none"},fadeOut=function(e){e.style.opacity=1,function t(){(e.style.opacity-=.1)<0?e.style.display="none":requestAnimationFrame(t)}()},fadeIn=function(e,t,o){e.style.opacity=0,e.style.display=t||"block",function t(){var a=parseFloat(e.style.opacity);(a+=.1)>1?o&&o():(e.style.opacity=a,requestAnimationFrame(t))}()},rootElement=document.documentElement,scrollToTopBtn=document.querySelector("#gotop"),handleScroll=function(){oldLazyLoad&&showVisible(imgCollection,oldLazyLoad);var e=rootElement.scrollHeight-rootElement.clientHeight;rootElement.scrollTop/e>.8?scrollToTopBtn.style.display="block":scrollToTopBtn.style.display="none"},scrollToTop=function(){rootElement.scrollTo({top:0,behavior:"smooth"})},vPanel={gameItem:'<a href="{url}" class="game"><img class="game-img lazyload" src="/images/placeholder.png" data-src="{avatar}"><h2 class="game-title">{name}</h2></a>',gameItemFavorites:'<div class="game"><span onclick="vPanel.delete_favorite(\'{md5}\')" class="remove" title="Убрать из Моих Игр">✕</span><a href="{url}"><img class="game-img lazyload" src="/images/placeholder.png" data-src="{avatar}"><h2 class="game-title">{name}</h2></a></div>'};vPanel.add_button=document.querySelector(".add_to_fav"),vPanel.remove_button=document.querySelector(".remove_to_fav"),document.addEventListener("DOMContentLoaded",function(e){var t=vPanel.get_cookie("games");if(vPanel.fillBookmarks(),t&&("array"==typeof t||"object"==typeof t)&&document.vGAME)for(var o=0;o<t.length;o++)if(document.vGAME.md5==t[o].md5){hide(vPanel.add_button),show(vPanel.remove_button);break}vPanel.updateBookmarkTitle()}),vPanel.updateBookmarkTitle=function(){var e=vPanel.get_favorites().length;e=0==e?'<span class="my-games">Мои Игры</span>':'<span class="my-games">Мои Игры</span><br><span class="count">'+e+"</span>",document.querySelector(".vplayer-btn-favorites").innerHTML=e},vPanel.declOfNum=function(e,t){return cases=[2,0,1,1,1,2],t[e%100>4&&e%100<20?2:cases[e%10<5?e%10:5]]},vPanel.complete=function(){vPanel.updateBookmarkTitle()},vPanel.fillBookmarks=function(){this.fillGames("favorites",".vp-fav")},vPanel.fillGames=function(e,t){var o=this.gameItem;"favorites"==e&&(o=this.gameItemFavorites),games=this.get_list(e);var a=[];if(games.length>0)for(var n=0,l=games.length-1;l>=0;l--)a[n]=games[l],n++;games=a;var s="";for(var l in 0==games.length&&(s+='<noindex><p class="noadded">Вы пока не добавляли игры в раздел "Мои Игры". Чтобы добавить сюда игру, нажмите кнопку "Добавить в Мои Игры", которая находится на странице с игрой.</p></noindex>'),games)s+=this.render(o,games[l]),games.length;document.querySelector(t).innerHTML=s},vPanel.render=function(e,t){for(var o in t)e=e.replace("{"+o+"}",t[o]);return e},vPanel.flashSuccess=function(){},vPanel.get_cookie=function(e){var t=this.get_flash_cookie(e);return t&&""!=t?t:null},vPanel.set_flash_cookie=function(e,t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){return!1}this.swfStoreInited&&this.swfStore.set(e,t)},vPanel.set_cookie=function(e,t){try{t=JSON.stringify(t)}catch(e){return!1}return localStorage.setItem(e,t),!0},vPanel.get_flash_cookie=function(e){var t=localStorage.getItem(e);try{return null==t?null:t=JSON.parse(t)}catch(e){}return t},vPanel.get_browser_cookie=function(e){for(var t=e+"=",o=document.cookie.split(";"),a=0;a<o.length;a++){for(var n=o[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null},vPanel.set_browser_cookie=function(e,t,o){var a=new Date,n=new Date;null!=o&&0!=o||(o=1),n.setTime(a.getTime()+864e5*o),document.cookie=e+"="+encodeURIComponent(t)+";expires="+n.toGMTString()},vPanel.local_storage_sync=function(){if(vPanel.supports_html5_storage()){var e=this.get_flash_cookie("games"),t=this.get_flash_cookie("played_games");localStorage.setItem("bookmarks",JSON.stringify(e)),localStorage.setItem("history",JSON.stringify(t))}},vPanel.supports_html5_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},vPanel.get_list=function(e){if(void 0===e)return[];switch(e){case"favorites":var t=this.get_flash_cookie("games");break;case"played":t=this.get_flash_cookie("played_games")}if((!t||"array"!=typeof t&&"object"!=typeof t)&&(t=new Array),t&&("array"==typeof t||"object"==typeof t)){for(var o=new Array,a=0;a<t.length;a++){for(field in t[a]){var n=t[a][field];n=this.xss_clean(n,field),t[a][field]=n}""!=t[a].md5&&""!=t[a].name&&""!=t[a].url&&o.push(t[a])}t=o}return t},vPanel.get_favorites=function(){var e=vPanel.get_cookie("games");if(!e||"array"!=typeof e&&"object"!=typeof e)e=new Array;else for(var t=0;t<e.length;t++)for(field in e[t]){var o=e[t][field];o=vPanel.xss_clean(o,field),e[t][field]=o}return e},vPanel.add_current=function(e){switch(e=void 0===e?"favorites":"played"){case"favorites":if(!document.vGAME)return vPanel.add_browser_favorite();var t=document.location.href;void 0!==document.vGAME.url&&""!=document.vGAME.url&&(t=document.vGAME.url),this.add_to_favorites(document.vGAME.md5,document.vGAME.name,document.vGAME.image,t);break;case"played":if(!document.vGAME)return;this.addPlayedGame()}},vPanel.addPlayedGame=function(){if(vPanel.swfStoreInited&&document.vGAME){var e=vPanel.get_flash_cookie("played_games");(!e||"array"!=typeof e&&"object"!=typeof e)&&(e=new Array);for(var t=!1,o=null,a=0;a<e.length;a++)if(e[a].md5==document.vGAME.md5){t=!0,o=a;break}if(t)return void 0===e[a].played_time&&(e[a].played_time=0),void 0===e[a].played_times&&(e[a].played_times=0),e[a].played_time=e[a].played_time+vPanel.currentGameSeconds,e[a].played_times++,vPanel.currentGameSeconds=0,array_move(e,o,e.length-1),void vPanel.set_flash_cookie("played_games",e);vPanel.currentGameSeconds<vPanel.playTime||(e[e.length]={md5:document.vGAME.md5,url:document.location.href,name:document.vGAME.name,category:document.vGAME.category,avatar:document.vGAME.image,played_time:vPanel.currentGameSeconds,last_sync:0,last_sync_value:0},vPanel.currentGameSeconds=0,vPanel.set_flash_cookie("played_games",e))}},vPanel.add_browser_favorite=function(){var e=document.title,t=document.location.href;try{window.external.AddFavorite(t,e)}catch(o){try{window.sidebar.addPanel(e,t,"")}catch(o){if("object"==typeof opera)return a.rel="sidebar",a.title=e,a.url=t,!0;alert("Нажмите Ctrl+D чтобы добавить страницу в закладки")}}return!1},vPanel.add_to_favorites=function(e,t,o,a){if(e&&t&&o&&a){(!(s=vPanel.get_cookie("games"))||"array"!=typeof s&&"object"!=typeof s)&&(s=new Array);for(var n=!1,l=0;l<s.length;l++)if(s[l].md5==e){n=!0;break}if(!n){s[s.length]={md5:e,url:a,name:t,avatar:o},vPanel.set_cookie("games",s),hide(vPanel.add_button),show(vPanel.remove_button),vPanel.updateBookmarkTitle(),vPanel.fillBookmarks();var s=vPanel.get_cookie("games")}}},vPanel.delete_favorite=function(e){if(document.vGAME||e){e=e||document.vGAME.md5;var t=vPanel.get_cookie("games");if(t&&("array"==typeof t||"object"==typeof t)){for(var o=new Array,a=0;a<t.length;a++)e!=t[a].md5?o[o.length]=t[a]:(vPanel.remove_button&&hide(vPanel.remove_button),vPanel.add_button&&show(vPanel.add_button));vPanel.set_cookie("games",o)}vPanel.updateBookmarkTitle(),vPanel.fillGames("favorites",".vp-fav"),showVisible(imgCollection,oldLazyLoad)}},vPanel.xss_clean=function(e,t){return"avatar"==t||"url"==t?(this.parse_url(e,"PHP_URL_HOST"),e):("string"!=typeof e||e.replace,e)},vPanel.parse_url=function(e,t){for(var o=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],a=this.php_js&&this.php_js.ini||{},n=a["phpjs.parse_url.mode"]&&a["phpjs.parse_url.mode"].local_value||"php",l={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},s=l[n].exec(e),r={},i=14;i--;)s[i]&&(r[o[i]]=s[i]);if(t)return r[t.replace("PHP_URL_","").toLowerCase()];if("php"!==n){var c=a["phpjs.parse_url.queryKey"]&&a["phpjs.parse_url.queryKey"].local_value||"queryKey";l=/(?:^|&)([^&=]*)=?([^&]*)/g,r[c]={},(r[o[12]]||"").replace(l,function(e,t,o){t&&(r[c][t]=o)})}return delete r.source,r},vPanel.add_button&&vPanel.add_button.click(function(e){vPanel.add_current()}),vPanel.remove_button&&vPanel.remove_button.click(function(e){vPanel.delete_favorite()}),document.addEventListener("click",function(e){(e.target.closest(".toggle_menu")||e.target.closest(".toggle_menu2")||e.target.closest(".vp-block")||e.target.closest(".more-t1")||e.target.closest(".more-t2")||e.target.closest("div.close")||e.target.closest("#gotop"))&&(e.target.closest(".toggle_menu")&&(document.querySelector(".icon-menu").classList.toggle("icon-hide"),document.querySelector(".icon-close").classList.toggle("icon-show"),document.querySelector(".vertical_nav").classList.toggle("vertical_nav__opened")),e.target.closest(".toggle_menu2")&&(document.querySelector(".icon-ellipsis-vert").classList.toggle("icon-hide"),document.querySelector(".icon-close-2").classList.toggle("icon-show"),document.querySelector(".vertical_nav2").classList.toggle("vertical_nav__opened2")),e.target.closest(".vp-block")&&(window.scrollTo({top:0,left:0,behavior:"smooth"}),fadeIn(document.querySelector("#smokescreen"),"block"),fadeIn(document.querySelector("section.vp-dropdown"),"none",function(){document.querySelector("section.vp-dropdown").style.display="table",showVisible(imgCollection,oldLazyLoad)})),e.target.closest(".more-t1")&&document.querySelector(".side1").classList.toggle("side__opened"),e.target.closest(".more-t2")&&document.querySelector(".side2").classList.toggle("side__opened"),e.target.closest("div.close")&&(fadeOut(document.querySelector("#smokescreen")),fadeOut(document.querySelector("div.close").closest("section"))),e.target.closest("#gotop")&&scrollToTop(),e.preventDefault())},!1),document.addEventListener("DOMContentLoaded",function(){var e;document.querySelectorAll(".menu a").forEach(t=>{t.classList.contains("top-link")||(t.addEventListener("mouseover",function(t){var o=document.createElement("span");e=this.getAttribute("title"),o.className="box",o.innerHTML=e,this.setAttribute("title",""),this.classList.contains("boys")||this.classList.contains("girls")||this.classList.contains("mult")||this.classList.contains("other")||(this.querySelector("img").setAttribute("title",""),this.querySelector("img").setAttribute("alt","")),this.appendChild(o);var a=document.querySelector(".box"),n=a.offsetWidth-32;n=-1*n/2+13,a.style.cssText="left:"+n+"px;"}),t.addEventListener("mouseout",function(t){e&&(this.setAttribute("title",e),this.classList.contains("boys")||this.classList.contains("girls")||this.classList.contains("mult")||this.classList.contains("other")||(this.querySelector("img").setAttribute("title",e),this.querySelector("img").setAttribute("alt",e)),this.removeChild(this.querySelector(".box")))}))}),document.addEventListener("scroll",handleScroll),oldLazyLoad&&showVisible(imgCollection,oldLazyLoad)});
document.addEventListener("DOMContentLoaded",function(){var n,e,a,g="IAmEnUser=1",s=(navigator.language||navigator.userLanguage).slice(0,2);function i(n){var e=new Date;e.setTime(e.getTime()+24*n*60*60*1e3);e="; expires="+e.toUTCString();document.cookie=g+e+"; path=/"}function o(){i(1),n.className="langmsg langmsg_hidden"}-1===document.cookie.indexOf(g)&&"en"===s&&((e=document.createElement("style")).innerHTML=".langmsg{position:fixed;top:15px;right:20px;width:450px;padding:16px;background:#fff;color:#002b50;font-family:Proxima Nova;font-size:18px;line-height:1.5;box-shadow:0 16px 32px rgba(0,0,0,.24);border-radius:12px;z-index:100}.langmsg_hidden{display:none}.langmsg *{box-sizing:border-box}.langmsg__text-container{float:left;margin-bottom:15px;}.langmsg__domain{color:#009cff;font-weight:bold}.langmsg__title{font:700 28px/32px Torus;margin:8px 0}.langmsg__links{display:flex;height:60px;width:100%;flex-flow:wrap row-reverse;justify-content:space-around}.langmsg__link{cursor:pointer;background:#009cff;border-radius:50px;width:100px;display:block;font:700 21px/24px Torus;margin:0 0 8px;padding:9px 0 5px;color:#fff;text-decoration:none;text-align:center;border:3px solid #009cff}.langmsg__link_inverted{background:#fff;color:#009cff;padding:9px 0 8px}.langmsg__link:hover{box-shadow:0 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0 rgba(0,0,0,0.14),0px 1px 5px 0 rgba(0,0,0,0.12)}.langmsg__close{position:absolute;top:0;right:0;padding:8px;cursor:pointer}",document.head.appendChild(e),a=document.createElement("div"),document.body.appendChild(a),a.innerHTML='<noindex><div class="langmsg langmsg_hidden" id="langmsg" style="display:none;"> <div class="langmsg__text-container"> <div class="langmsg__title" id="langmsg__title">Hey, it looks like you speak English</div><div class="langmsg__text" id="langmsg__text">Maybe you want to go to <span class="langmsg__domain">Gameis.net</span>, our website in English?</div></div><div class="langmsg__links"> <span id="langmsg__link_open" class="langmsg__link"><span class="langmsg__link_dl">Yes</span></span> <span id="langmsg__link_close" class="langmsg__link langmsg__link_inverted"><span class="langmsg__link_dl">No</span></span></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF/SURBVHgB7ZYxTsMwFEC/kw6RWMoJaBA7QmKgEkuXoo49Ae0N4ATACTgC5QSMBXVgLAgkegCQewMyQ+OPjVo1Shz7x81SyU/K4vhHL9/f3wbweDyeLWE85a2HD96EiqiYKnEBZdLkld+GAfKdH/x+eufnQGTyxq9UjHoeX74uKDHMNkFlRslkxzBkg7Pj+B4sMijweh0ESfdkfxcsWDMURZAw+bHsGEtxZMpUQeY/COZAwCrUOYqTBYrL/HiZlFZG/lAqWB/qEFL02gejVIghWKTKZGDBOr12PAcC1hrKMp5+DsIguMuPq5oKEFplMt3TeAZEKgmZpAo4yDgJkaQcZZyFjFIbyChIRa2j0Qj3tC8YNDGCQ3DEKUPa3ZSD0jx1VM5Q6dbOYWuetQiZ+gylT1EgL5lJZlXApj5FXT6SEEVmxaZSVqFneZf5ldcHioxRqq7TvgChz+jOPmTFwncSUqe9XK6b5U6aUZuekkIQfQR57ZCxQqRD8Hg8Hk91/gD1IA1eorgY5AAAAABJRU5ErkJggg==" alt="close" id="langmsg__close" class="langmsg__close"></div></noindex>',n=document.getElementById("langmsg"),s=document.getElementById("langmsg__close"),e=document.getElementById("langmsg__link_close"),a=document.getElementById("langmsg__link_open"),n.className="langmsg",n.removeAttribute("style"),s.addEventListener("click",o),e.addEventListener("click",o),a.addEventListener("click",function(){i(1),"undefined"==typeof categoryData?window.open("https://gameis.net"+window.location.pathname+"?utm_source=eng_user&utm_medium=browser-msg&utm_campaign=game","_self"):window.open("https://gameis.net/index.php?option=com_content&view=category&layout=blog&id="+categoryData.catID+"?utm_source=eng_user&utm_medium=browser-msg&utm_campaign=menu","_self")}))});
document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("most-popular"),e=document.getElementById("new"),o=document.getElementById("most-rated");n&&n.addEventListener("click",function(){window.open(window.location.origin+window.location.pathname+"?filter_order=default","_self")}),e&&e.addEventListener("click",function(){window.open(window.location.origin+window.location.pathname+"?filter_order=new","_self")}),o&&o.addEventListener("click",function(){window.open(window.location.origin+window.location.pathname+"?filter_order=rating","_self")})});